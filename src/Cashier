import java.util.Scanner;
public class Cashier {
    
public static void main(String[] args) {
        LinkedListM Lm = new LinkedListM();
        Scanner input = new Scanner(System.in);
        int choice = 0;

        do {
        System.out.println("Enter [1] Insert Cinema number and Seats: ");
        System.out.println("Enter [2] Display: ");
        System.out.println("Enter [3] to Reserve Seats: "); 
        System.out.println("Enter [4] View Sales Summary: ");
        System.out.println("Enter [0] to go back: ");
        System.out.print("Your choice?: ");
        
        choice = input.nextInt();

        if(choice == 1){
            System.out.print("Enter Cinema number: ");
            int cinema = input.nextInt();
            System.out.print("Enter Seat number: ");
            String seats = input.next();
            Lm.Reserve(cinema, seats);
        

        }
        else if (choice == 2){
            System.out.println("Display all Available Seats: ");
            Lm.display();   
            System.out.println();
        
        }
        else if (choice == 3){
            System.out.print("Enter the seat number: ");
            String seats = input.next();
            Lm.Search(seats);
        
        }
        else if (choice == 4){
            Lm.viewSalesSummary();
        }
        else{
            System.out.println("Please input another choice");
        }
        
    }while(choice != 0);
}
}

class LinkedListM {
    Node head;
    int totalSales = 0;
    int ticketPrice = 300;

    public void Reserve(int cinema, String seats) {
        Node node = new Node(cinema, seats);
        if (head == null) {
            head = node;
        } else {
            Node current = head;
            while (current.next != null){
                current = current.next;
            }
            current.next = node;
        }
    }

    
    
    public void display() {
    if (head == null) {
        System.out.println("List is empty.");
        return;
    }

    Node current = head;
    while (current != null) {
        String status;
        if (current.reserve) {
            status = "Reserved";
        } else {
            status = "Available";
        }
        System.out.println("Cinema " + current.cinema + " - Seat " + current.seats + " [" + status + "]");
        current = current.next;
    }
}
    
    public void Search(String seats) {
    Node current = head;
    boolean found = false;

    
    while (current != null) {
        if (current.seats.equalsIgnoreCase(seats)) {
            found = true;
            if(current.reserve){
        System.out.println("Seat "+ seats+ " is already Occupied");
        }else{
            System.out.println("Seat "+ seats+ " is Available");
        
        System.out.print("Confirm reservation (y/n)? : ");
        Scanner input = new Scanner(System.in);
        String confirm = input.next();

        if (confirm.equalsIgnoreCase("y")) {
            current.reserve = true;
            totalSales += ticketPrice;
            System.out.println("Seat "+ seats +" is reserverd successfully");
            System.out.println("Amount Paid: "+ticketPrice);
            System.out.println("Thank you for your purchase!");
        } if(confirm.equalsIgnoreCase("n")) {
            System.out.println("Reservation cancelled.");
        }
    }
            break;
        }
        current = current.next;
    }

    if (!found) {
        
        System.out.println("Seat " + seats + " is not available.");
    }
}
 public void viewSalesSummary() {
        System.out.println("\n--- Sales Summary ---");
        System.out.println("Total Seats Reserved: " + (totalSales / ticketPrice));
        System.out.println("Total Sales: â‚±" + totalSales);
    }
}
    
    
class Node {
    int cinema;
    String seats;
    Node next;
    boolean reserve;
    Node ( int cinema,String seats) {
        this.cinema = cinema;
        this.seats = seats;
        this.reserve = false;
        this.next = null;
    }
}

